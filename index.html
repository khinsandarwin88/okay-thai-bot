<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OKay Thai Bot - AI Buddy</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Lexend:wght@400;600&family=Pacifico;amp;family=Montserrat:wght@700&display=swap" rel="stylesheet">
<style>
    :root {
        --font-main: 'Poppins', sans-serif;
        --font-fancy: 'Pacifico', cursive;
        --font-bold: 'Montserrat', sans-serif;
        --border-radius: 16px;
        --sidebar-width: 250px; /* Define sidebar width */
        --collapsed-sidebar-width: 60px; /* Width when collapsed */
    }
    /* --- THEME: Celestial Aura (Default) --- USER UPDATED --- */
    body.theme-default {
        --bg-gradient: linear-gradient(160deg, #19162c 0%, #3c2f5f 100%);
        --bg-chat-window: rgba(25, 22, 44, 0.85);
        --border-glow: rgba(255, 221, 51, 0.35); /* yellow glow */
        --accent-glow: #ffe066; /* yellow accent */
        --accent-secondary: #fff200; /* strong yellow */
        --text-primary: #fffbe6; /* soft yellowish white */
        --text-secondary: #ffe066;
        --user-bubble-bg: linear-gradient(145deg, #ffe066 60%, #fff200 100%);
        --ai-bubble-bg: #2a2540;
        --button-bg: linear-gradient(90deg, #ffe066 60%, #fff200 100%);
        --button-hover-bg: linear-gradient(90deg, #fff200 60%, #ffe066 100%);
    }
    body.theme-default .header-title h1 {
        font-family: var(--font-fancy);
        font-size: 2.2rem;
        color: var(--accent-secondary);
        text-shadow: 0 0 18px var(--accent-glow), 0 2px 8px #fff200;
        letter-spacing: 2px;
        animation: floatTitle 2.5s infinite ease-in-out;
    }
    @keyframes floatTitle {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-6px); }
    }
    body.theme-default .header-title p {
        color: var(--accent-glow);
        font-family: var(--font-bold);
        font-size: 1.05rem;
        letter-spacing: 1px;
    }
    body.theme-default .action-button {
        font-family: var(--font-bold);
        background: var(--button-bg);
        color: #19162c;
        border: 2px solid var(--accent-secondary);
        box-shadow: 0 0 12px var(--accent-glow), 0 2px 8px #fff200;
        font-size: 1.1rem;
        transition: all 0.25s cubic-bezier(.68,-0.55,.27,1.55), box-shadow 0.2s;
        position: relative;
        overflow: hidden;
    }
    body.theme-default .action-button:hover {
        background: var(--button-hover-bg);
        color: #19162c;
        box-shadow: 0 0 24px var(--accent-secondary), 0 4px 16px #ffe066;
        transform: translateY(-3px) scale(1.07) rotate(-2deg);
        text-shadow: 0 0 8px #fff200;
    }
    body.theme-default .action-button:active {
        transform: scale(0.97);
        box-shadow: 0 0 8px var(--accent-secondary);
    }
    body.theme-default .avatar {
        background: var(--accent-secondary);
        color: #19162c;
        box-shadow: 0 0 16px var(--accent-glow), 0 2px 8px #fff200;
        font-size: 2rem;
        font-family: var(--font-fancy);
        border: 2px solid #ffe066;
    }
    body.theme-default .ai .avatar {
        background: #ffe066;
        color: #19162c;
        box-shadow: 0 0 16px #fff200;
    }
    body.theme-default .user .avatar {
        background: #fff200;
        color: #19162c;
        box-shadow: 0 0 16px #ffe066;
    }
    body.theme-default .message-content {
        font-family: var(--font-main);
        font-size: 1.08rem;
        color: var(--text-primary);
        background: var(--ai-bubble-bg);
        border: 2px solid var(--accent-glow);
        box-shadow: 0 0 10px var(--accent-glow);
        transition: box-shadow 0.2s;
    }
    body.theme-default .user .message-content {
        background: var(--user-bubble-bg);
        color: #19162c;
        font-family: var(--font-bold);
        box-shadow: 0 0 18px #fff200;
    }
    body.theme-default .chat-message {
        animation: slideIn 0.7s cubic-bezier(.68,-0.55,.27,1.55);
    }
    body.theme-default .card {
        background: linear-gradient(135deg, #fffbe6 80%, #ffe066 100%);
        border: 2px solid #ffe066;
        color: #19162c;
        font-family: var(--font-main);
        box-shadow: 0 0 18px #ffe066;
    }
    body.theme-default .card h3 {
        font-family: var(--font-fancy);
        color: #19162c;
        text-shadow: 0 0 8px #ffe066;
        font-size: 1.3rem;
    }
    body.theme-default .card strong {
        color: #19162c;
        font-family: var(--font-bold);
    }
    body.theme-default .settings-btn {
        color: #fff200;
        text-shadow: 0 0 8px #ffe066;
        font-size: 2.2rem;
        transition: transform 0.2s, color 0.2s;
    }
    body.theme-default .settings-btn:hover {
        color: #ffe066;
        transform: scale(1.15) rotate(-8deg);
    }
    body.theme-default #chat-log::-webkit-scrollbar-thumb {
        background: #ffe066;
    }
    body.theme-default #chat-log::-webkit-scrollbar-thumb:hover {
        background: #fff200;
    }
    body.theme-default .option-btn {
        background: var(--button-bg);
        color: #19162c;
        border: 2px solid #ffe066;
        font-family: var(--font-bold);
        font-size: 1rem;
        box-shadow: 0 0 8px #ffe066;
        transition: all 0.2s;
    }
    body.theme-default .option-btn.active {
        background: #fff200;
        color: #19162c;
        box-shadow: 0 0 16px #ffe066;
    }
    body.theme-default .option-btn:hover {
        background: #ffe066;
        color: #19162c;
        transform: scale(1.08);
    }
    body.theme-default #freeform-input {
        background: #fffbe6;
        color: #19162c;
        border: 2px solid #ffe066;
        font-family: var(--font-main);
        font-size: 1.08rem;
    }
    body.theme-default #freeform-input:focus {
        border-color: #fff200;
        box-shadow: 0 0 8px #ffe066;
    }
    /* --- THEME: High Contrast (Color-Blind Friendly) --- */
    body.theme-high-contrast {
        --bg-gradient: linear-gradient(160deg, #e0e0e0 0%, #ffffff 100%);
        --bg-chat-window: #f5f5f5;
        --border-glow: #cccccc;
        --accent-glow: #000000;
        --accent-secondary: #ffc107;
        --text-primary: #000000;
        --text-secondary: #555555;
        --user-bubble-bg: #ffc107;
        --ai-bubble-bg: #e0e0e0;
        --button-bg: #e0e0e0;
        --button-hover-bg: #d1d1d1;
    }
    body.theme-high-contrast .user .message-content, body.theme-high-contrast .user .avatar { color: #000; }
    body.theme-high-contrast .ai .avatar { background: #000; color: #fff; }
    /* --- THEME: Low Sensory (Autism-Friendly) --- */
    body.theme-low-sensory {
        --font-main: 'Lexend', sans-serif; /* High legibility font */
        --bg-gradient: linear-gradient(160deg, #d3e0ea 0%, #e9f0f5 100%);
        --bg-chat-window: #f8f9fa;
        --border-glow: #d3d3d3;
        --accent-glow: #5c677d;
        --accent-secondary: #8791a3;
        --text-primary: #212529;
        --text-secondary: #6c757d;
        --user-bubble-bg: #d3e0ea;
        --ai-bubble-bg: #e9ecef;
        --button-bg: #e9ecef;
        --button-hover-bg: #d3e0ea;
    }
    body.theme-low-sensory .ai .avatar { background: var(--accent-glow); color: #fff; }
    body.theme-low-sensory .user .avatar { background: var(--accent-secondary); color: #fff; }
    body.theme-low-sensory .star { display: none !important; } /* Hide stars */
    body.theme-low-sensory .chat-message { animation: none; } /* No animations */
    /* --- THEME: Pride (LGBTQ+ Friendly) --- */
    body.theme-pride {
        --bg-gradient: linear-gradient(160deg, #1e1e1e 0%, #3e3e3e 100%);
        --bg-chat-window: rgba(25, 22, 44, 0.85);
        --border-glow: rgba(255, 255, 255, 0.2);
        --accent-glow: #ffffff;
        --accent-secondary: #ffc400;
        --text-primary: #f0f0f5;
        --text-secondary: #a7a1c4;
        --user-bubble-bg: linear-gradient(145deg, #6c56c2, #4c3d8f);
        --ai-bubble-bg: #2a2540;
        --button-bg: linear-gradient(90deg, #E40303, #FF8C00, #FFED00, #008026, #004DFF, #750787);
        --button-hover-bg: linear-gradient(90deg, #E40303, #FF8C00, #FFED00, #008026, #004DFF, #750787);
    }
    body.theme-pride .action-button { color: white; border: none; opacity: 0.8; }
    body.theme-pride .action-button:hover { opacity: 1; }
    body.theme-pride .header-title h1 { text-shadow: 0 0 10px #fff; }
    body.theme-pride .ai .avatar { background: linear-gradient(45deg, #E40303, #FF8C00, #FFED00, #008026, #004DFF, #750787); color: white; }
    /* --- THEME: Midnight Bloom --- */
    body.theme-midnight-bloom {
        --bg-gradient: linear-gradient(160deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
        --bg-chat-window: rgba(15, 12, 41, 0.85);
        --border-glow: rgba(236, 72, 153, 0.3); /* Soft Magenta Glow */
        --accent-glow: #ec4899; /* Vibrant Magenta */
         --accent-secondary: #f9a8d4; /* Lighter Pink */
        --text-primary: #f3f4f6; /* Off-white */
        --text-secondary: #d1d5db; /* Light Gray */
        --user-bubble-bg: linear-gradient(145deg, #8e44ad 0%, #c0392b 100%); /* A placeholder, consider a more muted tone */
        --ai-bubble-bg: #2d3748; /* Dark Slate */
        --button-bg: linear-gradient(90deg, #ec4899 0%, #a855f7 100%);
        --button-hover-bg: linear-gradient(90deg, #a855f7 0%, #ec4899 100%);
    }
    body.theme-midnight-bloom .header-title h1 {
        font-family: var(--font-fancy);
        font-size: 2.2rem;
        color: #f3f4f6;
        text-shadow: 0 0 15px var(--accent-glow), 0 0 5px #fff;
        animation: floatTitle 3s infinite ease-in-out;
    }
    body.theme-midnight-bloom .header-title p {
        color: var(--text-secondary);
        font-family: var(--font-bold);
        font-size: 1rem;
        letter-spacing: 1px;
    }
    body.theme-midnight-bloom .action-button {
        font-family: var(--font-bold);
        background: var(--button-bg);
        color: white;
        border: 1px solid var(--border-glow);
        box-shadow: 0 0 12px var(--border-glow), 0 2px 8px rgba(0,0,0,0.5);
        font-size: 1.1rem;
        transition: all 0.3s ease, transform 0.2s ease;
    }
    body.theme-midnight-bloom .action-button:hover {
        background: var(--button-hover-bg);
        box-shadow: 0 0 20px var(--accent-glow);
        transform: translateY(-3px) scale(1.05);
    }
    body.theme-midnight-bloom .user .message-content {
        background: #4a5568;
        color: var(--text-primary);
        box-shadow: 0 0 12px rgba(0,0,0,0.4);
    }
    body.theme-midnight-bloom .ai .avatar {
        background: var(--accent-glow);
        color: white;
        box-shadow: 0 0 10px var(--accent-glow);
    }
    body.theme-midnight-bloom .card {
        background: rgba(45, 55, 72, 0.8);
        border: 1px solid var(--border-glow);
        color: var(--text-primary);
        box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    body.theme-midnight-bloom .card h3 {
        font-family: var(--font-fancy);
        color: var(--accent-secondary);
        text-shadow: 0 0 8px var(--accent-glow);
        font-size: 1.3rem;
    }
    body.theme-midnight-bloom #chat-log::-webkit-scrollbar-thumb {
        background: var(--accent-glow);
    }
    body.theme-midnight-bloom #chat-log::-webkit-scrollbar-thumb:hover {
        background: var(--accent-secondary);
    }
    body.theme-pride .action-button { color: white; border: none; opacity: 0.8; }
    body.theme-pride .action-button:hover { opacity: 1; }
    body.theme-pride .header-title h1 { text-shadow: 0 0 10px #fff; }
    body.theme-pride .ai .avatar { background: linear-gradient(45deg, #E40303, #FF8C00, #FFED00, #008026, #004DFF, #750787); color: white; }
    /* --- BASE STYLES --- */
    body {
        font-family: var(--font-main);
        margin: 0;
        padding: 0;
        background: var(--bg-gradient);
        color: var(--text-primary);
        display: flex; /* Changed to flex for two-column layout */
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
        position: relative;
    }
    #star-background {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0;
        background: transparent; overflow: hidden;
    }
    .star {
        position: absolute; background-color: white; border-radius: 50%;
        animation: twinkle linear infinite;
    }
    @keyframes twinkle { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }
    /* New styles for two-column layout */
    .app-container {
        display: flex;
        width: 100%;
        height: 100%;
        max-width: 1200px; /* Increased max-width for wider layout */
        max-height: 95vh; /* Adjusted height for better fit */
        border-radius: var(--border-radius);
        box-shadow: 0 0 40px var(--border-glow);
        border: 1px solid var(--border-glow);
        z-index: 1;
        background: var(--bg-chat-window); /* Apply background to app-container */
        backdrop-filter: blur(10px);
        position: relative; /* For absolute positioning of settings */
    }
    /* Sidebar styles */
    .sidebar {
        width: var(--sidebar-width);
        background: rgba(0,0,0,0.2); /* Slightly darker for distinction */
        border-right: 1px solid var(--border-glow);
        padding: 1.5rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
        border-radius: var(--border-radius) 0 0 var(--border-radius);
        position: relative;
        transition: width 0.3s ease-in-out; /* Smooth collapse transition */
        overflow-y: auto; /* Add scrollbar to sidebar */
        scrollbar-width: thin; /* Firefox */
        scrollbar-color: var(--accent-glow) transparent; /* Firefox */
    }
    .sidebar::-webkit-scrollbar {
        width: 8px;
    }
    .sidebar::-webkit-scrollbar-track {
        background: transparent;
    }
    .sidebar::-webkit-scrollbar-thumb {
        background: var(--accent-glow);
        border-radius: 4px;
    }
    .sidebar::-webkit-scrollbar-thumb:hover {
        background: #c9b4ff;
    }
    .sidebar.collapsed {
        width: var(--collapsed-sidebar-width);
        align-items: center; /* Center items when collapsed */
        padding: 1.5rem 0.5rem; /* Reduced padding when collapsed */
    }
    .sidebar-header {
        text-align: center;
        margin-bottom: 1.5rem;
        transition: opacity 0.3s ease-in-out;
    }
    .sidebar.collapsed .sidebar-header {
        opacity: 0;
        pointer-events: none; /* Disable interaction when hidden */
    }
    .sidebar-header h1 {
        margin: 0;
        font-size: 1.8rem; /* Slightly smaller for sidebar */
        color: var(--accent-secondary);
        text-shadow: 0 0 15px var(--accent-glow);
        font-family: var(--font-fancy);
    }
    .sidebar-header p {
        margin: 5px 0 0;
        color: var(--accent-glow);
        font-family: var(--font-bold);
        font-size: 0.95rem;
    }
    .sidebar-nav {
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
        flex-grow: 1; /* Allows nav to take available space */
    }
    .sidebar.collapsed .sidebar-nav .action-button .button-text {
        display: none; /* Hide text when collapsed */
    }
    .sidebar .action-button {
        width: 100%;
        text-align: left;
        padding: 12px 15px;
        font-size: 1rem;
        justify-content: flex-start; /* Align text to start */
        display: flex; /* Allow icon and text to be side-by-side */
        align-items: center;
        gap: 10px; /* Space between icon and text */
        overflow: hidden; /* Hide overflow when text is hidden */
    }
    .sidebar .action-button .button-icon {
        font-size: 1.2em; /* Adjust icon size */
        flex-shrink: 0;
    }
    .sidebar .action-button .button-text {
        transition: opacity 0.3s ease-in-out;
    }
    .sidebar.collapsed .sidebar-nav .action-button {
        text-align: center;
        padding: 12px 0; /* Adjust padding for icon-only */
        justify-content: center;
    }
    .sidebar .action-button:hover {
        transform: none; /* Disable transform on sidebar buttons for a cleaner look */
        box-shadow: 0 0 16px var(--accent-secondary), 0 3px 12px var(--accent-glow);
    }
    /* Removed settings-button-group from sidebar as per request */
    /* Collapse button */
    #collapse-btn {
        position: absolute;
        top: 20px;
        right: 10px;
        background: none;
        border: none;
        color: var(--text-primary);
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 10;
        transition: transform 0.2s;
    }
    #collapse-btn:hover {
        transform: scale(1.1);
    }
    .sidebar.collapsed #collapse-btn {
        right: 10px; /* Adjust position for collapsed state */
        left: 50%;
        transform: translateX(-50%);
    }
    /* Main chat window styles */
    .chat-window {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        position: relative;
    }
    .chat-header {
        padding: 1rem 1.5rem;
        border-bottom: 1px solid var(--border-glow);
        text-align: center;
        background: rgba(0,0,0,0.2);
        border-radius: 0 var(--border-radius) 0 0; /* Only top-right for chat window */
        display: flex;
        justify-content: space-between; /* To push title to center and settings to right */
        align-items: center;
        position: relative;
    }
    .chat-header .header-title {
        flex-grow: 1; /* Allows title to take available space */
        text-align: center;
        position: absolute; /* Absolute position to center regardless of settings buttons */
        left: 50%;
        transform: translateX(-50%);
        width: max-content; /* Adjust width to content to prevent overflow */

        /* --- NEW/MODIFIED FOR MARQUEE FADE EFFECT --- */
        overflow: hidden; /* CRUCIAL: Hides content that overflows */
        white-space: nowrap; /* Ensures text stays on one line */
        padding: 0 30px; /* Padding to allow space for the fade effect */
    }
    /* --- NEW/MODIFIED FOR MARQUEE FADE EFFECT --- */
    .header-title::before,
    .header-title::after {
        content: '';
        position: absolute;
        top: 0;
        height: 100%;
        width: 60px; /* Width of the fade effect */
        z-index: 2; /* Make sure these overlays are above the text */
        pointer-events: none; /* Allows mouse clicks/interactions to pass through */
    }

    .header-title::before {
        left: 0;
        /* Match this color to your .chat-header background color */
        background: linear-gradient(to right, rgba(0,0,0,0.2), transparent);
    }

    .header-title::after {
        right: 0;
        /* Match this color to your .chat-header background color */
        background: linear-gradient(to left, rgba(0,0,0,0.2), transparent);
    }
    /* --- END NEW/MODIFIED FOR MARQUEE FADE EFFECT --- */

    /* Top corner settings buttons including greeting */
    .top-right-settings {
        display: flex;
        gap: 10px;
        z-index: 5;
        /* Positioned within chat-header's right side using justify-content: flex-end on chat-header */
    }
    .top-left-settings { /* Added for sound button */
        display: flex;
        gap: 10px;
        z-index: 5;
    }
    .settings-btn {
        background: none; border: none; font-size: 1.8rem; cursor: pointer;
        opacity: 0.8; transition: opacity 0.2s, transform 0.2s; color: var(--text-primary);
    }
    .settings-btn:hover { opacity: 1; transform: scale(1.1); }
    .header-title h1 { margin: 0; font-size: 1.5rem; color: var(--text-primary); text-shadow: 0 0 10px var(--accent-glow); }
    .header-title p { margin: 5px 0 0; color: var(--text-secondary); font-size: 0.9rem; }

    /* --- NEW/MODIFIED FOR MARQUEE TEXT --- */
    .greeting-marquee {
        margin: 5px 0 0; /* Adjust vertical spacing as needed */
        font-size: 0.9rem; /* Use rem for consistency with other font sizes */
        color: var(--text-secondary); /* Use CSS variable for theme consistency */

        /* Core properties for the marquee effect */
        display: inline-block; /* Allows transform to work correctly for inline content */
        white-space: nowrap; /* Forces the text onto a single line */
        padding-left: 100%; /* Starts the text off-screen to the right */
        box-sizing: border-box; /* Include padding in width calculations */

        /* Animation properties */
        animation: marquee 15s linear infinite; /* Adjust '15s' for speed (shorter = faster) */
        animation-delay: 2s; /* Optional: delay before the animation starts */
    }

    /* Define the actual scrolling animation */
    @keyframes marquee {
        0% { transform: translateX(0); } /* Start from the initial off-screen position */
        100% { transform: translateX(-100%); } /* Move left by its own width */
    }
    /* --- END NEW/MODIFIED FOR MARQUEE TEXT --- */

    #chat-log { flex-grow: 1; padding: 1.5rem; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem; }
    .chat-message { display: flex; gap: 10px; max-width: 85%; animation: slideIn 0.4s ease-out; }
    @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .avatar { width: 40px; height: 40px; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; flex-shrink: 0; }
    .ai .avatar { background: var(--accent-glow); color: #19162c; box-shadow: 0 0 10px var(--accent-glow); }
    .user .avatar { background: var(--accent-secondary); color: #19162c; box-shadow: 0 0 10px var(--accent-secondary); }
    .message-content { padding: 1rem; border-radius: var(--border-radius); position: relative; }
    .ai .message-content { background: var(--ai-bubble-bg); align-self: flex-start; }
    .user { align-self: flex-end; flex-direction: row-reverse; }
    .user .message-content { background: var(--user-bubble-bg); color: var(--text-primary); }
    #user-input-area { padding: 1.5rem; border-top: 1px solid var(--border-glow); display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .action-button {
        background: var(--button-bg); color: var(--text-primary); border: 1px solid var(--border-glow);
        padding: 10px 20px; border-radius: 20px; cursor: pointer; transition: all 0.2s ease;
    }
    .action-button:hover { background: var(--button-hover-bg); border-color: var(--accent-glow); transform: translateY(-2px); }
    .card { background: var(--ai-bubble-bg); border: 1px solid var(--border-glow); border-radius: var(--border-radius); padding: 1rem; margin-top: 10px; }
    .card h3 { margin-top: 0; color: var(--accent-glow); }
    .card p { margin: 5px 0; } .card strong { color: var(--text-primary); }
    #freeform-input-container { display: none; width: 100%; gap: 10px; }
    #freeform-input { flex-grow: 1; background: var(--ai-bubble-bg); border: 1px solid var(--border-glow); color: var(--text-primary); padding: 10px 15px; border-radius: 20px; }
    #freeform-input:focus { outline: none; border-color: var(--accent-glow); }
    #chat-log::-webkit-scrollbar { width: 8px; }
    #chat-log::-webkit-scrollbar-track { background: transparent; }
    #chat-log::-webkit-scrollbar-thumb { background: var(--accent-glow); border-radius: 4px; }
    #chat-log::-webkit-scrollbar-thumb:hover { background: #c9b4ff; }
    /* Settings Panel */
    .settings-panel {
        display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); z-index: 100;
        justify-content: center; align-items: center;
    }
    .settings-content {
        background: var(--bg-chat-window); padding: 2rem; border-radius: var(--border-radius);
        border: 1px solid var(--border-glow); box-shadow: 0 0 50px rgba(0,0,0,0.5);
        width: 90%; max-width: 500px;
    }
    .settings-content h2 { margin-top: 0; color: var(--text-primary); }
    .settings-section { margin-bottom: 1.5rem; }
    .settings-section h3 { margin-bottom: 1rem; color: var(--text-secondary); }
    .settings-options { display: flex; flex-wrap: wrap; gap: 10px; }
    .option-btn {
        background: var(--button-bg); color: var(--text-primary); border: 1px solid var(--border-glow);
        padding: 8px 15px; border-radius: 10px; cursor: pointer; transition: all 0.2s ease;
    }
    .option-btn.active { background: var(--accent-glow); color: #000; }
    .close-settings-btn { width: 100%; margin-top: 1rem; }
    /* Input fields for contact form */
    .contact-form-input {
        width: calc(100% - 20px); /* Adjust width */
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 5px;
        border: 1px solid var(--border-glow);
        background: var(--ai-bubble-bg);
        color: var(--text-primary);
    }
    .contact-form-input::placeholder {
        color: var(--text-secondary);
    }
    .contact-form-submit-btn {
        background: var(--button-bg);
        color: #19162c;
        border: 2px solid var(--accent-secondary);
        padding: 10px 20px;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: var(--font-bold);
    }
    .contact-form-submit-btn:hover {
        background: var(--button-hover-bg);
        box-shadow: 0 0 16px var(--accent-secondary);
    }

    /* --- NEW/MODIFIED FOR PROCEED BUTTON (GLOWING OVAL) --- */
    #proceedButton {
        width: 100px;
        height: 50px;
        background-color: #ffd700; /* Yellow */
        border-radius: 25px;
        box-shadow: 0 0 15px 5px rgba(255, 215, 0, 0.7); /* Glow effect */
        border: none;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.1s ease-in-out;
        margin: 20px auto; /* Center the button below messages */
        position: sticky; /* Make it stick to the bottom */
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%); /* Centering trick for sticky */
        z-index: 10;
        display: none; /* Initially hidden, show via JS when needed */
    }

    #proceedButton:active {
        transform: translateX(-50%) scale(0.95);
    }

    .arrow-icon {
        font-size: 2em; /* Adjust size to fit well within the oval */
        color: #211c47; /* Dark color for contrast against yellow */
    }
    /* --- END NEW/MODIFIED FOR PROCEED BUTTON --- */

    /* --- NEW/MODIFIED FOR FACEBOOK BUTTON TEXT --- */
    /* No specific CSS change needed here, just ensuring .button styles apply */
    /* The change is primarily in the HTML text itself */
</style>
</head>
<body>
<div id="star-background"></div>
<div class="app-container">
    <div class="sidebar" id="sidebar">
        <button id="collapse-btn" title="Collapse Sidebar" aria-label="Collapse Sidebar"> ‚ò∞ </button>
        <div class="sidebar-header">
            <h1>OKay Thai Bot</h1>
            <p>Your AI Buddy</p>
        </div>
        <nav class="sidebar-nav" id="sidebar-nav">
            <!-- Buttons populated by JavaScript -->
        </nav>
        <!-- Facebook link with accessibility and security enhancements -->
        <a href="https://www.facebook.com/share/1AhRXANLEm/?mibextid=wwXIfr" target="_blank" rel="noopener noreferrer" class="action-button facebook-link" aria-label="Visit OKay Thai Facebook page">
            <span class="button-icon"> üëÄ </span> <span class="button-text">Facebook</span>
        </a>
    </div>
    <div class="chat-window">
        <div class="chat-header">
            <!-- Move sound button before title for better accessibility -->
            <div class="top-left-settings">
                <button class="settings-btn" id="greeting-btn" title="Play Greeting" aria-label="Play Greeting" tabindex="0"> üîä </button>
            </div>
            <div class="header-title">
                <h1>Chat with OKay Thai</h1>
                <!-- Marquee text applied to this paragraph -->
                <p class="greeting-marquee"> ·Äô·ÄÑ·Ä∫·Äπ·ÄÇ·Äú·Ä¨·Äï·Ä´·Åã   ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞  !  üôè  How can I assist you today?</p>
            </div>
            <div class="top-right-settings">
                <button class="settings-btn" id="langBtn" title="Language" aria-label="Change Language" tabindex="0">  üåê  </button>
                <button class="settings-btn" id="themeBtn" title="Theme" aria-label="Change Theme" tabindex="0">  üé®  </button>
            </div>
        </div>
        <div id="chat-log"></div>
        <div id="user-input-area"></div>
        <!-- Proceed button with accessibility label -->
        <button id="proceedButton" class="glowing-oval-button" aria-label="Proceed to next step" tabindex="0">
            <span class="arrow-icon">&#x2192;</span>
        </button>
    </div>
<!-- ...existing code... -->
</body>
</html>